# 计算机网络复习：自顶向下方法

## 第一章 综述

### 计算机网络的构成



**端系统**通过**通信链路**和**分组交换机**链接到一起

-  端系统：所有连接因特网的设备

- 通信链路：

  - 引导型媒体：
    - 双绞铜线
    - 同轴电缆
    - 光纤
  - 非引导型媒体：
    - 陆地无线电信道
    - 卫星无线电信道

- 分组交换机：

  最著名的两种：

  - 路由器
  - 链路层交换机

端系统通过**因特网服务提供商（ISP)**接入因特网

端系统、分组交换机和其他因特网部件都要运行一系列**协议**，因特网的主要协议统称为**TCP/IP**。

- 协议：两个或多个通信实体之间交换的**报文**格式和次序，以及报文发送和接收一条报文或其他事件所采取的动作的定义。
- 报文：交换的数据的统称

链路的**传输速率**以bit/s来度量的，统称为bps

在家庭环境中，通常用**局域网（LAN)**将端用户连接到**边缘路由器**

- 边缘路由器：端系统到任何其他远程端系统的路径上的第一台路由器。
- 局域网：
  - 无线LAN（WLAN，其中基于IEEE802.11技术的WLAN统称为WiFi)
  - 以太网
- 广域网：
  - 3G/4G/5G
  - LTE

协议层次：

- 五层因特网协议栈：
  1. 应用层：信息分组称为**报文（message）**
  2. 运输层：信息分组称为**报文段（segment）**
  3. 网络层：信息分组称为**数据报（datagram)**
  4. 链路层：链路层分组称为**帧（frame）**
  5. 物理层
- 七层ISO OSI参考模型：1.应用层 2.表示层 3.会话层 4.运输层 5.网络层 6.链路层 7.物理层

### 数据交换方式

通过网络链路和交换机移动数据有两种基本方法：**电路交换**和**分组交换**。

- 电路交换：创建一条专用的端到端的连接
  - 频分复用
  - 时分复用
- 分组交换：
  - 储存转发传输
  - 排队时延和分组丢失
  - 转发表和路由选择协议

### 各种数值计算

分组交换不适合实时服务，因为它端到端时延是可变的不可预测的，但是提供了比电路交换更好的带宽共享且比电路交换更有效、简单、成本低廉。

分组交换中的时延：

- 结点处理时延：路由器处理分组的时间，基本是固定的
- 排队时延：取决于先到达的正在排队的分组数量
- 传输时延：将分组的比特传输向链路所需要的时间：time = L/R 其中L是分组长度，R是传输速率
- 传播时延：从链路起点到链路终点所需的时间

丢包：

​	路由器的等待队列满的时候，新到达的分组将被丢弃。

吞吐量：

- 瞬时吞吐量：主机在任何的瞬间接收到该文件的速率（bps)
- 平均吞吐量：主机接受所有F比特用去T秒



难点：计算m个用户在同一时刻有n个用户在同时传输的概率
$$
（^n_m）p^nq^{m-n}
$$
当m很大时，可以根据中心极限定理计算
$$
\lim _{m \to \infty}p(\frac {1}{\sqrt{np(1-p)}}\sum_{i=1}^{n}X_i - np) \approx \Phi(x)
$$
其中等号右侧为正态分布累计概率



## 第二章 应用层

### 应用层协议原理

​	